/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/mainmenu_screen/MainMenuViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

MainMenuViewBase::MainMenuViewBase() :
    buttonCallback(this, &MainMenuViewBase::buttonCallbackHandler)
{

    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    biter.setBitmap(touchgfx::Bitmap(BITMAP_I44_ID));
    biter.setPosition(0, 0, 400, 400);
    biter.setScalingAlgorithm(touchgfx::ScalableImage::BILINEAR_INTERPOLATION);

    toggleButton.setXY(336, 442);
    toggleButton.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_LARGE_BUTTON_ON_ID));
    toggleButton.setAction(buttonCallback);

    bitworkshop.setXY(333, 0);
    bitworkshop.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    bitworkshop.setLinespacing(0);
    bitworkshop.setTypedText(touchgfx::TypedText(T___SINGLEUSE_GZO2));

    add(__background);
    add(biter);
    add(toggleButton);
    add(bitworkshop);
}

void MainMenuViewBase::setupScreen()
{

}

//Handles when a key is pressed
void MainMenuViewBase::handleKeyEvent(uint8_t key)
{
    if(0 == key)
    {
        //test1
        //When hardware button 0 clicked move biter
        //Move biter to x:0, y:0 with SineIn easing in 1200 ms (72 Ticks)
        biter.clearMoveAnimationEndedAction();
        biter.startMoveAnimation(0, 0, 72, touchgfx::EasingEquations::sineEaseIn, touchgfx::EasingEquations::sineEaseIn);
    }
}

void MainMenuViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &toggleButton)
    {
        //ToggleButtonClicked
        //When toggleButton clicked call virtual function
        //Call ToggleButtonClicked
        ToggleButtonClicked();
    }
}
